<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<GridPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="720.0" prefWidth="1280.0" styleClass="root" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="src.log.controller.LoginController">
    <columnConstraints>
        <ColumnConstraints percentWidth="50.0" />
        <ColumnConstraints percentWidth="50.0" />
    </columnConstraints>
    <rowConstraints>
        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
    </rowConstraints>
    
    <StackPane styleClass="branding-pane" GridPane.columnIndex="0">
        <VBox alignment="CENTER" spacing="20">
            <ImageView fitHeight="250.0" fitWidth="250.0" pickOnBounds="true" preserveRatio="true">
                <image>
                    <Image url="@../assets/logo.png" />
                </image>
            </ImageView>
            <Text styleClass="branding-title" text="PostureCare" />
            <Text styleClass="branding-subtitle" text="Your journey to a healthier posture starts here." textAlignment="CENTER" wrappingWidth="300" />
        </VBox>
    </StackPane>

    <VBox fx:id="formPane" alignment="CENTER" spacing="20" GridPane.columnIndex="1">
        <Label styleClass="title" text="Welcome!" />
        <Label styleClass="subtitle" text="Log in to continue" />

        <TextField fx:id="emailField" maxWidth="350" promptText="Email" styleClass="text-field" />
        
        <StackPane maxWidth="350.0">
           <children>
              <PasswordField fx:id="passwordField" promptText="Password" styleClass="text-field" />
              <TextField fx:id="passwordTextField" managed="false" promptText="Password" styleClass="text-field" visible="false" />
              <ToggleButton fx:id="togglePasswordButton" styleClass="toggle-button-icon" StackPane.alignment="CENTER_RIGHT">
                 <graphic>
                    <ImageView fx:id="eyeIcon" fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                       <image>
                          <Image url="@../assets/eye-closed.png" />
                       </image>
                    </ImageView>
                 </graphic>
                 <StackPane.margin>
                    <Insets right="10.0" />
                 </StackPane.margin>
              </ToggleButton>
           </children>
        </StackPane>

        <Button onAction="#handleLogin" prefWidth="350" styleClass="button-primary" text="Login" />

        <HBox alignment="CENTER" spacing="10">
            <Hyperlink onAction="#handleForgotPassword" text="Forgot Password?" />
            <Text text="|" />
            <Hyperlink onAction="#handleRegister" text="Create an account" />
        </HBox>
    </VBox>
    <padding>
        <Insets />
    </padding>
</GridPane>